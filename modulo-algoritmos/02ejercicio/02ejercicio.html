<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../ejercicios.css">
    <title>Ejercicio 02</title>
</head>

<body>
    <header>
        <h1> Ejercicio 2</h1>
    </header>
    <div>
        <h5>Escribe una aplicación que solicite al usuario que ingrese una contraseña cualquiera. Después se le pedirá
            que ingrese
            nuevamente la contraseña, con 3 intentos. Cuando acierte ya no pedirá más la contraseña y mostrará un
            mensaje diciendo
            “Felicitaciones, recordás tu contraseña”. Si falla luego de 3 intentos se mostrará el mensaje “Tenes que
            ejercitar la
            memoria”. Los mensajes quedarán en pantalla a la espera que el usuario presione una tecla, luego de esto se
            cerrará el
            programa.</h5>
        <section>
            <form id="form" action="">
                <label style="font-weight: bold;" for="password" id="titleForm">Ingrese una contraseña y
                    recuérdela</label>
                <input type="password" id="sign_up_password" name="sign_up_password">
                <input type="password" id="password" name="password" class="d-none">
                <input type="submit">
                <span style="display: block;;" class="cartel"></span>
            </form>
            <a href="/index.html">Volver al Indice de ejercicios</a>
        </section>
    </div>
    <script>
        let $form = document.getElementById("form")
        let $inputSignUp = document.getElementById("sign_up_password")
        let $inputPassword = document.getElementById("password")
        let $cartel = document.querySelector(".cartel")
        let $titleForm = document.getElementById("titleForm")

        let password = "",
            quantitySubmit = 0;
        document.addEventListener("submit", e => {
            quantitySubmit++;
            e.preventDefault();
            password = $form.sign_up_password.value
            $inputPassword.classList.remove("d-none")
            $inputSignUp.classList.add("d-none")
            let message = ""
            if (quantitySubmit >= 1) {
                $titleForm.innerHTML = "Reingrese su contraseña"
            }

            if (password === $form.password.value && quantitySubmit > 1) {
                message = "Felicitaciones recordás tu contraseña"
                $cartel.style.color = "blue"
                setTimeout(() => {
                    window.location.reload()
                }, 3000);
            }
            if (password !== $form.password.value && quantitySubmit === 4) {
                message = "Tenes que ejercitar la memoria"
                $cartel.style.color = "red"
                setTimeout(() => {
                    window.location.reload()
                }, 3000);
            }

            $cartel.innerHTML = message
        })


    </script>
</body>

</html>